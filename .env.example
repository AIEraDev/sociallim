# Comment Sentiment Analyzer - Environment Configuration
# Copy this file to .env and update the values for your environment

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Environment (development, staging, production)
NODE_ENV=development

# Application URLs
FRONTEND_URL=http://localhost:3000
API_BASE_URL=http://localhost:5628
NEXT_PUBLIC_API_URL=http://localhost:5628/api

# Server Ports
API_PORT=5628
FRONTEND_PORT=5628
POSTGRES_PORT=5432

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL Database
POSTGRES_DB=comment_analyzer
POSTGRES_USER=analyzer
POSTGRES_PASSWORD=secure_password_change_this
DATABASE_URL=postgresql://analyzer:secure_password_change_this@localhost:5432/comment_analyzer

# Database Connection Pool
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================

# Redis Cache
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# Session Configuration
SESSION_SECRET=your-session-secret-change-this
SESSION_MAX_AGE=604800000

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================

# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-key-at-least-32-characters-long-change-this
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Password Security
BCRYPT_ROUNDS=12

# CORS Configuration
CORS_ORIGIN=http://localhost:5628
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# OAUTH CONFIGURATION
# ============================================================================

# Google OAuth (YouTube)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:5628/auth/google/callback

# Facebook OAuth (Instagram)
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret
FACEBOOK_REDIRECT_URI=http://localhost:5628/auth/facebook/callback

# Twitter OAuth
TWITTER_API_KEY=your-twitter-api-key
TWITTER_API_SECRET=your-twitter-api-secret
TWITTER_BEARER_TOKEN=your-twitter-bearer-token
TWITTER_ACCESS_TOKEN=your-twitter-access-token
TWITTER_ACCESS_TOKEN_SECRET=your-twitter-access-token-secret
TWITTER_REDIRECT_URI=http://localhost:5628/auth/twitter/callback

# TikTok OAuth
TIKTOK_CLIENT_KEY=your-tiktok-client-key
TIKTOK_CLIENT_SECRET=your-tiktok-client-secret
TIKTOK_REDIRECT_URI=http://localhost:5628/auth/tiktok/callback

# ============================================================================
# AI SERVICE CONFIGURATION
# ============================================================================

# OpenAI Configuration
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# Google Gemini Configuration
GEMINI_API_KEY=AIzaSyAxPRB-9h-ryOhS37oUeAduwPmKWy2qbFc
GEMINI_MODEL=gemini-pro
GEMINI_MAX_TOKENS=2000

# AI Service Timeouts (milliseconds)
AI_REQUEST_TIMEOUT=30000
AI_MAX_RETRIES=3

# ============================================================================
# FILE STORAGE CONFIGURATION
# ============================================================================

# Local Storage
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,csv,json,xlsx,png,jpg,jpeg

# AWS S3 (Optional)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=comment-analyzer-uploads

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================

# Email Provider (nodemailer, resend, mailtrap, console)
EMAIL_PROVIDER=nodemailer

# Nodemailer SMTP Configuration (Default)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Alternative: Resend
RESEND_API_KEY=your-resend-api-key

# Alternative: Mailtrap (for testing)
MAILTRAP_TOKEN=your-mailtrap-token
MAILTRAP_ACCOUNT_ID=your-mailtrap-account-id

# Email Templates
FROM_EMAIL=noreply@echomind.ai
FROM_NAME=EchoMind

# ============================================================================
# MONITORING & LOGGING
# ============================================================================

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Metrics and Monitoring
ENABLE_METRICS=true
METRICS_PORT=9464
PROMETHEUS_PORT=9090
GRAFANA_PORT=3002
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# Error Tracking (Sentry)
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=development

# ============================================================================
# DEVELOPMENT CONFIGURATION
# ============================================================================

# Development Tools
ENABLE_SWAGGER=true
ENABLE_PLAYGROUND=true
ENABLE_DEBUG=true

# Hot Reload
WATCH_FILES=true
WATCH_EXTENSIONS=.ts,.js,.json

# Testing
TEST_DATABASE_URL=postgresql://analyzer:secure_password_change_this@localhost:5432/comment_analyzer_test
TEST_REDIS_URL=redis://localhost:6379/1

# ============================================================================
# PRODUCTION CONFIGURATION
# ============================================================================

# SSL Configuration
SSL_CERT_PATH=./ssl/cert.pem
SSL_KEY_PATH=./ssl/key.pem
FORCE_HTTPS=false

# Nginx Configuration
HTTP_PORT=80
HTTPS_PORT=443

# Performance
CLUSTER_WORKERS=auto
MEMORY_LIMIT=512m
CPU_LIMIT=1

# Security Headers
HELMET_ENABLED=true
CSP_ENABLED=true
HSTS_MAX_AGE=31536000

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================

# Database Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=comment-analyzer-backups

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Feature Toggles
ENABLE_REGISTRATION=true
ENABLE_SOCIAL_LOGIN=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_TWO_FACTOR_AUTH=false
ENABLE_ANALYTICS=true
ENABLE_WEBHOOKS=false

# Analysis Features
ENABLE_ADVANCED_SENTIMENT=true
ENABLE_EMOTION_DETECTION=true
ENABLE_THEME_ANALYSIS=true
ENABLE_SPAM_DETECTION=true
ENABLE_TOXICITY_FILTER=true

# Export Features
ENABLE_PDF_EXPORT=true
ENABLE_CSV_EXPORT=true
ENABLE_JSON_EXPORT=true
ENABLE_IMAGE_EXPORT=true

# ============================================================================
# THIRD-PARTY INTEGRATIONS
# ============================================================================

# Analytics
GOOGLE_ANALYTICS_ID=your-ga-tracking-id
MIXPANEL_TOKEN=your-mixpanel-token

# Customer Support
INTERCOM_APP_ID=your-intercom-app-id
ZENDESK_SUBDOMAIN=your-zendesk-subdomain

# Payment Processing (Future)
STRIPE_PUBLIC_KEY=your-stripe-public-key
STRIPE_SECRET_KEY=your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=your-stripe-webhook-secret

# ============================================================================
# CACHE CONFIGURATION
# ============================================================================

# Cache TTL (seconds)
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=1800
CACHE_TTL_LONG=3600

# Cache Keys
CACHE_PREFIX=comment-analyzer
CACHE_VERSION=v1

# ============================================================================
# QUEUE CONFIGURATION
# ============================================================================

# Background Jobs
QUEUE_REDIS_URL=redis://localhost:6379/2
QUEUE_CONCURRENCY=5
QUEUE_MAX_ATTEMPTS=3
QUEUE_BACKOFF_DELAY=5000

# Job Types
ENABLE_ANALYSIS_QUEUE=true
ENABLE_EXPORT_QUEUE=true
ENABLE_EMAIL_QUEUE=true
ENABLE_CLEANUP_QUEUE=true